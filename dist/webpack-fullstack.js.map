{"version":3,"sources":["webpack:///webpack/bootstrap 1949f761f1f9d0f687c6","webpack:///external \"path\"?5b2a","webpack:///external \"webpack\"?393d","webpack:///external \"fs\"?2e09","webpack:///./src/index.ts?a715","webpack:///./src/process-config.ts?1a4a","webpack:///./src/webpack-fullstack.ts"],"names":[],"mappings":"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","file":"webpack-fullstack.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1949f761f1f9d0f687c6","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 0\n// module chunks = 0 1","module.exports = require(\"webpack\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack\"\n// module id = 1\n// module chunks = 0 1","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 2\n// module chunks = 0 1","/// <reference path=\"./index.d.ts\" />\n\nimport * as path from 'path';\nimport * as fs from 'fs';\nimport * as webpack from 'webpack';\nimport * as MemoryFS from 'memory-fs';\nimport * as childProcess from 'child_process';\nimport {WFSConfigInterface} from './index.d';\nimport processConfig from './process-config';\n\ndeclare const __non_webpack_require__: (path: string) => any;\nconst userDir = path.resolve( process.cwd() );\nconst userConfigPath = path.join( userDir, 'webpack.fullstack.js' );\nconst userConfig = __non_webpack_require__( userConfigPath );\nconst processedConfig = processConfig( userConfig, userDir );\nconst opts = {\n  outputClient: process.argv[2] === '--output-client' ? true : false\n};\n\nexport {\n  opts,\n  userDir,\n  userConfigPath,\n  userConfig,\n  processedConfig\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/eslint-loader!./src/index.ts","import * as fs from 'fs';\nimport * as path from 'path';\nimport * as webpack from 'webpack';\nimport {WFSConfigInterface} from './index.d';\n\nvar serverDefaults = {\n  target: 'node',\n  node: {\n    __dirname: true\n  },\n  externals : {},\n  plugins: [\n    new webpack.BannerPlugin({\n      banner: 'require(\"source-map-support\").install();',\n      raw: true,\n      entryOnly: true\n    })\n  ]\n};\n\nvar clientDefaults = {\n\n};\n\nfunction processConfig(\n  config: WFSConfigInterface,\n  devDir: string\n): any {\n\n  fs.readdirSync( path.resolve(devDir, 'node_modules') )\n    .filter( (x) => ['.bin'].indexOf(x) === -1 )\n    .forEach( (m) => serverDefaults.externals[m] = 'commonjs ' + m );\n\n  serverDefaults.externals['react-dom/server'] = 'commonjs react-dom/server';\n  serverDefaults.externals['history/createBrowserHistory'] = 'commonjs history/createBrowserHistory';\n\n  for (let key in config) {\n    if (key === 'server') {\n      config.server = {\n        ...serverDefaults,\n        ...config.server,\n        devtool: 'source-map'\n      };\n\n    } else if (key === 'client') {\n      config.client = {\n        ...clientDefaults,\n        ...config.client\n      };\n\n    } else {\n      config.server[key] = config[key];\n      config.client[key] = config[key];\n    }\n  }\n\n  return config;\n};\n\nexport default processConfig;\n\n\n\n// WEBPACK FOOTER //\n// ./~/eslint-loader!./src/process-config.ts","import * as path from 'path';\nimport * as fs from 'fs';\nimport * as webpack from 'webpack';\nimport {processedConfig} from './index';\n\nwebpack([processedConfig.client, processedConfig.server], (err, stats) => {\n  if (err || stats.hasErrors()) {\n    console.log(err || stats.hasErrors);\n  }\n  console.log(stats.toString());\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/eslint-loader!./src/webpack-fullstack.ts"],"sourceRoot":""}